(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var s=t(0),r=t(2),a=t.n(r),c=t(16),o=t.n(c),u=t(3),i=t(17),l=function(e){var n=e.name,t=e.number,r=e.removeEntry;return Object(s.jsxs)("div",{className:"entry",children:[Object(s.jsxs)("div",{children:["Name: ",n]}),Object(s.jsxs)("div",{children:["Number: ",t]}),Object(s.jsx)("button",{className:"btn",onClick:r,children:"Delete"})]})},m=t(6),b=t.n(m),j="/api/persons",d={getAll:function(){var e=b.a.get(j);return console.log("Fetched entries are:",e),e.then((function(e){return e.data}))},create:function(e){return b.a.post(j,e).then((function(e){return e.data}))},remove:function(e){return b.a.delete(e).then((function(e){return e.data}))}},h=function(e){var n=e.persons,t=e.setPersons,r=e.sortButton,a=function(e,s){var r="/api/persons/".concat(s);d.remove(r).then((function(e){t(n.filter((function(e){return e.id!==s})))}))},c=Object(i.a)(n).sort(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(t,s){if(!t.hasOwnProperty(e)||!s.hasOwnProperty(e))return 0;var r=t[e].localeCompare(s[e]);return"desc"===n?-1*r:r}}("name"));return!1===r?c.map((function(e,n){return Object(s.jsx)(l,{name:e.name,number:e.number,removeEntry:function(){return a(e.name,e.id)}},n)})):n.map((function(e,n){return Object(s.jsx)(l,{name:e.name,number:e.number,removeEntry:function(){return a(e.name,e.id)}},n)}))},p=function(e){var n=e.message;return null===n?null:"Name missing! Please input a name"===n||"Number missing! Please input a number"===n||"Name already in phonebook"===n?Object(s.jsx)("div",{className:"red",children:n}):Object(s.jsx)("div",{className:"green",children:n})},O=function(e){var n=e.newName,t=e.setNewName,r=e.newNumber,a=e.setNewNumber,c=e.persons,o=e.setPersons,u=e.handleNameChange,i=e.handleNumberChange,l=e.message,m=e.setMessage;return console.log("persons is",c),Object(s.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),n||(m("Name missing! Please input a name"),setTimeout((function(){m(null)}),3e3)),r||(m("Number missing! Please input a number"),setTimeout((function(){m(null)}),3e3)),c.map((function(e){return e.name})).includes(n)&&(m("Name already in phonebook"),setTimeout((function(){m(null)}),3e3));var s={name:n,number:r};d.create(s).then((function(e){console.log("response is",e),t(""),a(""),m("Added ".concat(n)),setTimeout((function(){m(null)}),4e3),o(c.concat(e))}))},children:[Object(s.jsx)(p,{message:l}),Object(s.jsx)("h2",{children:"Add a new:"}),Object(s.jsxs)("div",{className:"input",children:[Object(s.jsx)("p",{children:"Name:"})," ",Object(s.jsx)("input",{value:n,onChange:u})]}),Object(s.jsxs)("div",{className:"input",children:[Object(s.jsx)("p",{children:"Number:"})," ",Object(s.jsx)("input",{value:r,onChange:i})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{className:"btn",type:"submit",children:"Add"})})]})},f=(t(41),function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(""),o=Object(u.a)(c,2),i=o[0],l=o[1],m=Object(r.useState)(""),b=Object(u.a)(m,2),j=b[0],p=b[1],f=Object(r.useState)(null),N=Object(u.a)(f,2),v=N[0],x=N[1],g=Object(r.useState)(!0),w=Object(u.a)(g,2),y=w[0],P=w[1];Object(r.useEffect)((function(){d.getAll().then((function(e){console.log("Initial Entries are:",e),a(e)}))}),[]);return Object(s.jsxs)("div",{className:"app",children:[Object(s.jsxs)("div",{className:"upper",children:[Object(s.jsx)("h2",{children:"Phonebook App"}),Object(s.jsx)("div",{children:Object(s.jsx)(O,{newName:i,setNewName:l,newNumber:j,setNewNumber:p,persons:t,setPersons:a,handleNameChange:function(e){l(e.target.value)},handleNumberChange:function(e){p(e.target.value)},message:v,setMessage:x})}),Object(s.jsx)("button",{className:"btn-alpha",onClick:function(){P(!y)},children:"Sort Alphabetically"})]}),Object(s.jsx)("div",{className:"lower",children:Object(s.jsx)(h,{persons:t,setPersons:a,sortButton:y})})]})});o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(f,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0e34fd7b.chunk.js.map