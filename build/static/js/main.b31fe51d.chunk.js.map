{"version":3,"sources":["Entry.js","services/entries.js","Persons.js","Notification.js","Form.js","App.js","index.js"],"names":["Entry","name","number","removeEntry","onClick","baseUrl","entryService","getAll","request","axios","get","console","log","then","response","data","create","newObject","post","remove","url","delete","Persons","persons","setPersons","map","el","index","id","window","confirm","filter","entry","Notification","message","style","color","background","fontSize","borderRadius","padding","marginBottom","borderStyle","Form","newName","setNewName","newNumber","setNewNumber","handleNameChange","handleNumberChange","setMessage","onSubmit","event","preventDefault","includes","alert","entryObject","setTimeout","concat","value","onChange","type","App","useState","useEffect","initialEntries","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b31fe51d.chunk.js","sourcesContent":["const Entry = ({ name, number, removeEntry }) => {\n  return (\n    <div>\n      {name}, {number}\n      {\"\"}\n      <button onClick={removeEntry}>Delete</button>\n    </div>\n  );\n};\n\nexport default Entry;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  console.log(\"Fetched entries are:\", request);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (url) => {\n  const request = axios.delete(url);\n  return request.then((response) => response.data);\n};\n\nconst entryService = { getAll, create, remove };\n\nexport default entryService;\n","import Entry from \"./Entry\";\nimport entryService from \"./services/entries\";\n\nconst Persons = ({ persons, setPersons }) => {\n  // Let's make a function that will remove an entry from the state:\n  const removeEntry = (name, id) => {\n    window.confirm(`Delete ${name}?`);\n    const url = `/api/persons/${id}`;\n    entryService.remove(url).then((response) => {\n      setPersons(persons.filter((entry) => entry.id !== id));\n    });\n  };\n\n  return persons.map((el, index) => (\n    <Entry\n      name={el.name}\n      number={el.number}\n      key={index}\n      removeEntry={() => removeEntry(el.name, el.id)}\n    />\n  ));\n};\n\nexport default Persons;\n","const Notification = ({ message }) => {\n  const green = {\n    color: \"green\",\n    background: \"lightgray\",\n    fontSize: 18,\n    borderRadius: \"5px\",\n    padding: \"10px\",\n    marginBottom: \"10px\",\n    borderStyle: \"solid\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n\n  return <div style={green}>{message}</div>;\n};\n\nexport default Notification;\n","import React from \"react\";\nimport Notification from \"./Notification\";\n// entryService is a module with backend functionality (axios):\nimport entryService from \"./services/entries\";\n\nconst Form = ({\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n  persons,\n  setPersons,\n  handleNameChange,\n  handleNumberChange,\n  message,\n  setMessage,\n}) => {\n  // Let's add the user entry into the state:\n  const addEntry = (event) => {\n    // First we prevent the default behavior of the form when submitted:\n    event.preventDefault();\n    // Now let's check if the entry already exists in the \"persons\" state array:\n    const exists = persons.map((el) => el.name);\n    // We get an array of existing names. Let's adjust the function:\n    if (exists.includes(newName)) {\n      // The entry exists. Let's warn the user about that:\n      alert(`${newName} is already added to the phonebook.`);\n    } else {\n      // The entry doesn't exist. Let's create an object with the new entry:\n      const entryObject = {\n        name: newName,\n        number: newNumber,\n      };\n      // Let's post the new entry to the server:\n      entryService.create(entryObject).then((response) => {\n        // Let's reset the pieces of state for the input fields to their default values:\n        console.log(\"response is\", response);\n        setNewName(null);\n        setNewNumber(null);\n        // Let's set a message for the notification:\n        setMessage(`Added ${newName}`);\n        // Let's set a timeout for the notification:\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        // Let's update the \"persons\" state array with the response from the fulfilled promise:\n        setPersons(persons.concat(response));\n      });\n    }\n  };\n  console.log(\"persons is\", persons);\n\n  return (\n    <form onSubmit={addEntry}>\n      <Notification message={message} />\n      <h2>Add a new:</h2>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./Persons\";\nimport Form from \"./Form\";\n// entryService is a module with backend functionality (axios):\nimport entryService from \"./services/entries\";\n\nconst App = () => {\n  // Let's create our pieces of state:\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(null);\n  const [newNumber, setNewNumber] = useState(null);\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    /* Let's get the initial phonebook entries from the database to set\n       the \"persons\" state: */\n    entryService.getAll().then((initialEntries) => {\n      console.log(\"Initial Entries are:\", initialEntries);\n      setPersons(initialEntries);\n    });\n  }, []);\n\n  const handleNameChange = (event) => {\n    // Let's set the user input from the name input field into the \"newName\" piece of state:\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    // Let's do the same, but for the number input field:\n    setNewNumber(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Form\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        message={message}\n        setMessage={setMessage}\n      />\n      <h2>Entries:</h2>\n      <Persons persons={persons} setPersons={setPersons} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}